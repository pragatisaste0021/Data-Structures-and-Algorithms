Problem Name: Walking Robot Simulation

Solution Code:

class Solution {

    static final long hash_multiplier = 60013;

    public int robotSim(int[] commands, int[][] obstacles) {
        
        Set<Long> set = new HashSet<>();

        for(int[] obstacle : obstacles){
            set.add(hashCoordinates(obstacle[0], obstacle[1]));
        }

        int[][] directions = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};

        int[] currentPosition = {0, 0};

        int maxDistance = 0;

        int currentDirection = 0;

        for(int command : commands){
            if(command == -1){
                currentDirection = (currentDirection + 1) % 4;
                continue;
            }

            if(command == -2){
                currentDirection = (currentDirection + 3) % 4;
                continue;
            }

            int[] direction = directions[currentDirection];

            for(int step=0; step<command; step++){
                int nextX = currentPosition[0] + direction[0];
                int nextY = currentPosition[1] + direction[1];

                if(set.contains(hashCoordinates(nextX, nextY))){
                    break;
                }
                currentPosition[0] = nextX;
                currentPosition[1] = nextY;
            }
            maxDistance = Math.max(maxDistance, currentPosition[0]*currentPosition[0] + currentPosition[1]*currentPosition[1]);
        }
        return maxDistance;
    }

    public static long hashCoordinates(long x, long y){
        return x + hash_multiplier * y;
    }
}