Problem Name: Time Based Key-Value Store

Solution Code:

class TimeMap {

    HashMap<Integer, String> map1;
    HashMap<String, List<Integer>> map2;

    public TimeMap() {
        map1 = new HashMap<>();
        map2 = new HashMap<>();
    }
    
    public void set(String key, String value, int timestamp) {

        map1.put(timestamp, value);
        
        map2.putIfAbsent(key, new ArrayList<>());

        map2.get(key).add(timestamp);
    }
    
    public String get(String key, int timestamp) {
        
        List<Integer> list = map2.getOrDefault(key, new ArrayList<>());

        int time = 0;

        int low = 0, high = list.size() - 1;

        while(low <= high){
            int mid = low + (high - low)/2;

            if(list.get(mid) <= timestamp){
                low = mid + 1;
                time = list.get(mid);
            }
            else{
                high = mid  - 1;
            }
        }

        // System.out.println(time);

        if(time == 0){
            return "";
        }
        
        return map1.get(time);
    }
}
